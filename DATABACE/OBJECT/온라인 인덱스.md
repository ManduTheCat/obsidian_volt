기존 인덱스를 그냥 생성하게 되면 X 락이 걸리기 때문에 작업을 할수 없는데

온라인 인덱스를 사용하게 되면 s 락을 걸기 때문에 접근해서 확인할 수 있다.

[What is the difference between OFFLINE and ONLINE index rebuild in SQL Server?](https://stackoverflow.com/questions/6309614/what-is-the-difference-between-offline-and-online-index-rebuild-in-sql-server)

데이터베이스에서 인덱스를 생성하거나 재구성 할 때는 보통 온라인(ONLINE) 모드와 오프라인(OFFLINE) 모드 중 하나를 선택할 수 있습니다. SQL Server의 컨텍스트에서 이 두 모드는 다음과 같은 차이점을 가집니다:

### 온라인 인덱스 (ONLINE mode)

1. **접근성**: 새 인덱스가 만들어지는 동안에도 기존 인덱스는 읽기 및 쓰기 작업에 계속 접근할 수 있습니다.
2. **동기화**: 기존 인덱스에 적용되는 모든 업데이트는 새 인덱스에도 적용됩니다.
3. **충돌 관리**: "앤티매터 열(antimatter column)"이라고 불리우는 열을 사용하여 업데이트와 재구성 사이의 가능한 충돌을 추적합니다.
4. **락킹 시간**: 작업이 완료되면 테이블이 잠깐 동안 잠기며 새로운 인덱스가 기존 인덱스를 대체합니다.
5. **LOB 지원**: SQL Server 2012 이후로는 LOB(Large Object) 열이 있는 인덱스에 대해서도 온라인 작업이 지원됩니다.

### 오프라인 인덱스 (OFFLINE mode)

1. **접근성**: 새 인덱스가 만들어지는 동안 테이블 전체가 잠깁니다. 즉, 읽기나 쓰기 작업이 불가능합니다.
2. **동기화**: 테이블이 잠겨 있기 때문에 동기화 문제는 발생하지 않습니다.
3. **충돌 관리**: 테이블이 잠기므로 업데이트와 재구성 사이에 충돌이 발생할 가능성이 없습니다.
4. **락킹 시간**: 작업이 완료되면 테이블의 락이 해제되고 읽기 및 쓰기가 다시 가능해집니다.

따라서, 온라인 모드는 일반적으로 운영 중인 시스템에서 중단 없이 인덱스를 재구성해야 할 때 유용하며, 오프라인 모드는 시스템이 비활성 상태일 때나 빠른 시간 내에 작업을 완료해야 할 때 유용합니다.